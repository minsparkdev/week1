<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>오늘 뭐 먹지? | 메뉴 추천</title>
    <meta name="description" content="결정 장애를 위한 AI 음식 추천 서비스. 랜덤 추천, 이상형 월드컵, 음식 타로까지!">
    <link rel="stylesheet" href="style.css">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;600;800&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <a href="#" class="logo" id="logo-home">What to Eat</a>
    </header>

    <main>
        <section class="hero">
            <img src="./assets/images/foods/food_think.png" alt="음식 고민하는 캐릭터" class="hero-image">
            <h1>오늘 메뉴가 고민되시나요?</h1>
            <p>결정이 얼마나 어려우신가요? 상황에 맞는 솔루션을 선택하세요!</p>
        </section>

        <!-- 모드 선택 허브 -->
        <section id="mode-hub" class="mode-hub">
            <div class="mode-grid">
                <div class="mode-card" data-mode="random">
                    <div class="mode-icon">🎲</div>
                    <h3 class="mode-title">1초컷</h3>
                    <p class="mode-desc">고민 없이 바로 추천받기</p>
                    <span class="mode-time">5초</span>
                </div>

                <div class="mode-card" data-mode="worldcup">
                    <div class="mode-icon">🏆</div>
                    <h3 class="mode-title">이상형 월드컵</h3>
                    <p class="mode-desc">16강 토너먼트로 결정</p>
                    <span class="mode-time">1-2분</span>
                </div>

                <div class="mode-card" data-mode="tarot">
                    <div class="mode-icon">🔮</div>
                    <h3 class="mode-title">음식 타로</h3>
                    <p class="mode-desc">오늘의 음식 운세 보기</p>
                    <span class="mode-time">30초</span>
                </div>

                <div class="mode-card" data-mode="balance">
                    <div class="mode-icon">⚖️</div>
                    <h3 class="mode-title">밸런스 게임</h3>
                    <p class="mode-desc">극한의 음식 선택</p>
                    <span class="mode-time">1분</span>
                </div>
            </div>
        </section>

        <!-- 모드 콘텐츠 영역 -->
        <section id="mode-content" class="mode-content hidden"></section>

        <!-- 제휴 문의 (접이식) -->
        <section class="contact-section">
            <div class="contact-card collapsible">
                <button class="contact-header" id="contact-toggle" aria-expanded="false">
                    <div class="contact-header-content">
                        <h2>제휴 문의</h2>
                        <p>What to Eat과 함께할 파트너를 찾습니다.</p>
                    </div>
                    <span class="contact-chevron">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </span>
                </button>
                <div class="contact-body" id="contact-body">
                    <form action="https://formspree.io/f/xreezave" method="POST" id="contact-form">
                        <div class="form-group">
                            <label for="email">이메일 주소</label>
                            <input type="email" name="email" id="email" placeholder="example@email.com" required>
                        </div>
                        <div class="form-group">
                            <label for="message">문의 내용</label>
                            <textarea name="message" id="message" rows="4" placeholder="문의하실 내용을 입력해주세요." required></textarea>
                        </div>
                        <button type="submit" class="submit-btn">문의하기</button>
                    </form>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2026 What to Eat. Bon Appétit!</p>
    </footer>

    <!-- 모듈 로드 -->
    <script type="module">
        // 컴포넌트 로드
        import './js/components/FoodRecommender.js';
        import './js/components/FoodWorldcup.js';
        import './js/components/FoodTarot.js';
        import './js/components/FoodBalance.js';
        import './js/components/ResultCard.js';

        // 앱 초기화
        import { initApp, switchMode } from './js/app.js';

        document.addEventListener('DOMContentLoaded', () => {
            initApp();

            // 모드 카드 클릭 이벤트
            document.querySelectorAll('.mode-card').forEach(card => {
                card.addEventListener('click', () => {
                    const mode = card.dataset.mode;
                    if (mode) {
                        switchMode(mode);
                    }
                });
            });

            // 홈으로 돌아가기 이벤트
            document.addEventListener('go-home', () => {
                switchMode('hub');
            });

            // 로고 클릭 시 홈으로 이동
            document.getElementById('logo-home').addEventListener('click', (e) => {
                e.preventDefault();
                switchMode('hub');
            });

            // 제휴 문의 아코디언 토글
            const contactToggle = document.getElementById('contact-toggle');
            const contactBody = document.getElementById('contact-body');

            contactToggle.addEventListener('click', () => {
                const isExpanded = contactToggle.getAttribute('aria-expanded') === 'true';
                contactToggle.setAttribute('aria-expanded', !isExpanded);
                contactBody.classList.toggle('expanded');
            });
        });
    </script>
</body>
</html>
